{
 "creation": "2017-09-18 12:39:50.308885", 
 "css": "@media all {\n   div .printedby {\n       position: fixed;\n       bottom: 0;\n       text-align: center;\n       font-size: xx-small;\n       width: 90% !important;\n   }\n}\n.mytable, .mytable th, .mytable td {\n\tborder: 1px solid #999;\n        line-height: 1;    \n}\n.table1,  td {\n\tline-height:0.8;\n}\n.thick {\n\tfont-weight: bold;\n}\n\n.normal {\n\tfont-weight: normal;\n}\ntr.noBorder td {\n  border: 0;\n}", 
 "custom_format": 1, 
 "disabled": 0, 
 "doc_type": "Project Invoice", 
 "docstatus": 0, 
 "doctype": "Print Format", 
 "font": "Default", 
 "html": "<div class=\"page-break\">\n\t{%- if letter_head and not no_letterhead -%}\n\t<div class=\"letter-head\">{{ letter_head }}</div>\n\t{%- endif -%}\n\n\t<div id=\"footer-html\" class=\"visible-pdf\">\n\t\t{% if not no_letterhead and footer %}\n\t\t<div class=\"letter-head-footer\">\n\t\t\t{{ footer }}\n\t\t</div>\n\t\t{% endif %}\n\t\t<p class=\"text-center small page-number visible-pdf\">\n\t\t\t{{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\n\t\t</p>\n\t</div>\n\n\t<div id=\"main\">\n\t\t<h3 align = \"center\">RUNNING ACCOUNT BILL</h3>\n\t\t<h5 align = \"center\"><u>{{doc.branch}}</u></h5>\n\t</div>\n\t<div style=\"margin-top: 10px;\">\n\t\t<table class = \"table1\" style=\"margin-top: 1px; text-align:justify;font-size:small; width:100% \">\n\t\t\t<tr>\n\t\t\t\t<td width =\"140\" style = \"width:25%;\"> <strong>Project Name:</strong></td>\n\t\t\t\t<td>{{doc.project}}</td>\n\t\t\t\t<td align= \"left\" style=\"width: 15%;\"><strong>Invoice #:</strong></td>\n\t\t\t\t<td>{{ doc.name }}</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td> <strong>Work Order Issued :</strong></td>\n\t\t\t\t<td>{{ frappe.db.get_value(\"Project\",doc.project, \"referenceno\") }}</td>\n\t\t\t\t<td><strong>Invoice Date: </strong></td>\n\t\t\t\t<td> {{frappe.utils.formatdate(doc.invoice_date)}}</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td><strong>Customer:</strong></td>\n\t\t\t\t<td>{{ doc.customer }}</td>\n\t\t\t\t<td><strong>Status:</strong></td>\n\t\t\t\t<td>\n\t\t\t\t\t{%- if doc.docstatus == 0 -%}\n\t\t\t                       Draft\n\t                {%- endif -%}\n\t\t\t\t\t{%- if doc.docstatus == 1 -%}\n\t\t\t                      Submitted\n\t                {%- endif -%}\t\n\t\t\t\t\t{%- if doc.docstatus == 2 -%}\n\t\t\t                      Cancelled\n\t                {%- endif -%}\t\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td><strong>Inauguration:</strong></td>\n\t\t\t\t<td> {{ frappe.db.get_value(\"Project\",doc.project, \"expected_start_date\")}}</td>\n\t\t\t</tr>\n\t\t\t<tr> \n\t\t\t\t<td> <strong> Completion Date:</strong></td>\n\t\t\t\t<td> {{ frappe.db.get_value(\"Project\",doc.project, \"expected_end_date\") }}</td>\n\t\t\t</tr>\n\t\t\t<tr> \n\t\t\t\t<td> <strong> Contract Price:</strong></td>\n\t\t\t\t<td>{{ frappe.format_value(frappe.db.get_value(\"Project\",doc.project, \"project_value\"), {\"fieldtype\": \"Currency\"})}}</td>\n\t\t\t</tr>\n\t\t\t<tr> \n\t\t\t\t<td> <strong> Advance Payment:</strong></td>\n\t\t\t</tr>\n\t\t</table>\n\t</div>\n\t<div>\n\t\t<table cellpadding=\"0\" cellspacing=\"0\" class=\"mytable\" style=\"margin-top: 20px; text-align:center;font-size:small\">\n\t\t\t<col align=\"left\">\n\t\t\t<col align=\"left\">\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t  <th style=\"text-align: center;\" rowspan=\"4\" ;>Sr</th>\n\t\t\t\t  <th style=\"text-align: center;\" rowspan=\"4\">Description of item.</th>\n\t\t\t\t  <th style=\"text-align: center;\" rowspan=\"4\" ;>Unit</th>\n\t\t\t\t  <th style=\"text-align: center;\" colspan=\"2\">BOQ</th>\n\t\t\t\t  <th style=\"text-align: center;\" colspan=\"2\">Quantity</th>\n\t\t\t\t  <th style=\"text-align: center;\" colspan=\"2\">Amount(Nu)</th>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<th style=\"text-align: center;\">Rate</th>\n\t\t\t\t\t<th style=\"text-align: center;\">Qty</th>\n\t\t\t\t\t<th style=\"text-align: center;\">Since previous</th>\n\t\t\t\t\t<th style=\"text-align: center;\">Up to Date</th>\n\t\t\t\t\t<th style=\"text-align: center;\">Since previous</th>\n\t\t\t\t\t<th style=\"test-align:center;\">Up to Date</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\n\t\t\t{%- for row in doc.project_invoice_boq -%}\n\t\t\t\t{%- if row.is_group -%}\n\t\t\t\t\t{% set group = 'thick' %}\n\t\t\t\t\t{% set uom = '' %}\n\t\t\t\t\t{% set original_rate = '' %}\n\t\t\t\t\t{% set original_quantity = '' %}\n\t\t\t\t\t{% set invoice_quantity = '' %}\n\t\t\t\t\t{% set uptodate_quantity = '' %}\n\t\t\t\t\t{% set invoice_amount = '' %}\n\t\t\t\t\t{% set uptodate_amount = '' %}\n\t\t\t\t{%- else -%}\n\t\t\t\t\t{% set group = 'normal' %}\n\t\t\t\t\t{% set uom = row.uom %}\n\t\t\t\t\t{% set original_rate = frappe.format_value(row.original_rate, {\"fieldtype\":\"Currency\"}) %}\n\t\t\t\t\t{% set original_quantity = row.original_quantity %}\n\t\t\t\t\t{% set invoice_quantity = row.invoice_quantity if (row.invoice_quantity and row.is_selected) else '-'  %}\n\t\t\t\t\t{% set invoice_amount = frappe.format_value(row.invoice_amount | round (2), {\"fieldtype\":\"Currency\"}) if (row.invoice_amount and row.is_selected) else '-' %}\n\t\t\t\t\t{%- if row.is_selected -%}\n\t\t\t\t\t\t{%- if row.invoice_amount -%}\n\t\t\t\t\t\t\t{% set uptodate_quantity = (row.uptodate_quantity+row.invoice_quantity) if (row.uptodate_quantity+row.invoice_quantity) else '-' %}\n\t\t\t\t\t\t\t{% set uptodate_amount = frappe.format_value(row.uptodate_amount+row.invoice_amount | round (2), {\"fieldtype\":\"Currency\"}) if (row.uptodate_amount+row.invoice_amount) else '-' %}\n\t\t\t\t\t\t{%- else -%}\n\t\t\t\t\t\t\t{% set uptodate_quantity = row.uptodate_quantity if row.uptodate_quantity else '-' %}\n\t\t\t\t\t\t\t{% set uptodate_amount = frappe.format_value(row.uptodate_amount | round (2), {\"fieldtype\":\"Currency\"}) if row.uptodate_amount else '-' %}\n\t\t\t\t\t\t{%- endif -%}\n\t\t\t\t\t{%- else -%}\n\t\t\t\t\t\t{% set uptodate_quantity = row.uptodate_quantity if row.uptodate_quantity else '-' %}\n\t\t\t\t\t\t{% set uptodate_amount = frappe.format_value(row.uptodate_amount | round (2), {\"fieldtype\":\"Currency\"}) if row.uptodate_amount else '-' %}\n\t\t\t\t\t{%- endif -%}\n\t\t\t\t{%- endif -%}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t<tr class=\"{{ group }}\">\n\t\t\t\t\t<td style=\"width: 3%;\">  {{ row.boq_code if row.boq_code else '' }}</td>\n\t\t\t\t\t<td style=\"width: 31%; text-align: left\"> {{ row.item }}</td>\n\t\t\t\t\t<td style=\"width: 8%;\">{{ row.uom if row.uom else ''}}</td>\n\t\t\t\t\t<td style=\"width: 8%; text-align: right\">{{ original_rate }}</td>\n\t\t\t\t\t<td style=\"width: 8%; text-align: right\">{{ original_quantity }}</td>\n\t\t\t\t\t<td style=\"width: 8%; text-align: right\">{{ invoice_quantity}}</td>\n\t\t\t\t\t<td style=\"width: 8%; text-align: right\">{{ uptodate_quantity }}</td>\n\t\t\t\t\t<td style=\"width: 13%; text-align:right\">{{ invoice_amount}}</td>\n\t\t\t\t\t<td style=\"width: 13%; text-align:right\">{{ uptodate_amount }}</td>\n\t\t\t\t</tr>\n\t\t\t\t\n\t\t\t\t<!--\n\t\t\t\t<tr class=\"{{ group }}\">\n\t\t\t\t\t<td style=\"width: 3%;\">  {{ row.boq_code }}</td>\n\t\t\t\t\t<td style=\"width: 31%; text-align: left\"> {{ row.item }}</td>\n\t\t\t\t\t<td style=\"width: 8%;\">{{ row.uom }}</td>\n\t\t\t\t\t<td style=\"width: 8%; text-align: right\">{{ frappe.format_value(row.original_rate, {\"fieldtype\":\"Currency\"}) }}</td>\n\t\t\t\t\t<td style=\"width: 8%; text-align: right\">{{ row.original_quantity }}</td>\n\t\t\t\t\t<td style=\"width: 8%; text-align: right\">{{ row.invoice_quantity }}</td>\n\t\t\t\t\t<td style=\"width: 8%; text-align: right\">{{ row.uptodate_quantity+row.invoice_quantity }}</td>\n\t\t\t\t\t<td style=\"width: 13%; text-align:right\">{{ frappe.format_value(row.invoice_amount | round (2), {\"fieldtype\":\"Currency\"}) }}</td>\n\t\t\t\t\t<td style=\"width: 13%; text-align:right\">{{ frappe.format_value(row.uptodate_amount+row.invoice_amount | round (2), {\"fieldtype\":\"Currency\"}) }}</td>\n\t\t\t\t</tr>\n\t\t\t\t-->\n\t\t\t{%- endfor -%}\n\t\t\t<tr class=\"noBorder\">\n\t\t\t  <td colspan=\"5\" style=\"text-align:right;\"><strong>Total :</strong></td>\n\t\t\t  <td colspan=\"3\" style=\"text-align:right;\">{{ frappe.format_value((doc.gross_invoice_amount), {\"fieldtype\":\"Currency\"})}}</td>\n\t\t\t  <td></td>\n\t\t\t</tr>\n\t\t\t<tr class=\"noBorder\">\n\t\t\t  <td colspan=\"5\" style=\"text-align:right\"><strong>Add For Price Adjustment :</strong></td>\n\t\t\t  <td colspan=\"3\" style=\"text-align:right;\">{{ frappe.format_value((doc.price_adjustment_amount), {\"fieldtype\":\"Currency\"})}}</td>\n\t\t\t  <td></td>\n\t\t\t</tr>\n\t\t\t<tr class=\"noBorder\">\n\t\t\t  <td colspan=\"5\" style=\"text-align:right\"><strong>Total including Price Adjustment :</strong></td>\n\t\t\t  <td colspan=\"3\" style=\"text-align:right;\" >{{ frappe.format_value((doc.net_invoice_amount), {\"fieldtype\":\"Currency\"})}}</td>\n\t\t\t  <td></td>\n\t\t\t</tr>\n\t\t\t<tr class=\"noBorder\">\n\t\t\t  <td colspan=\"5\" style=\"text-align:right;\"><strong>Advance Recovery :</strong></td>\n\t\t\t  <td colspan=\"3\" style=\"text-align:right;\">{{ frappe.format_value((0), {\"fieldtype\":\"Currency\"})}}</td>\n\t\t\t  <td></td>\n\t\t\t</tr>\n\t\t\t<tr class=\"noBorder\">\n\t\t\t  <td colspan=\"5\" style=\"text-align:right;\"><strong>TDS :</strong></td>\n\t\t\t  <td colspan=\"3\" style=\"text-align:right;\">{{ frappe.format_value((doc.tds_amount), {\"fieldtype\":\"Currency\"})}}</td>\n\t\t\t  <td></td>\n\t\t\t</tr>\n\t\t\t<tr class=\"noBorder\">\n\t\t\t  <td colspan=\"5\" style=\"text-align:right;\"><strong>Net Payable :</strong></td>\n\t\t\t  <td colspan=\"3\" style=\"text-align:right;\">{{ frappe.format_value((doc.net_invoice_amount), {\"fieldtype\":\"Currency\"})}}</td>\n\t\t\t  <td></td>\n\t\t\t</tr>\t\t\t\n\t\t</table>\n\t</div>\n\n\t<!--\n\t<table  cellpadding= \"0\" cellspacing=\"0\" style=\"margin-top: 10px; border-spacing:0; text-align:right; width:100% \">\n        <tr>\n          <td colspan =\"5\" style=\"text-align: right;\"><strong>Total: </strong></td>\n          <td style=\"text-align: right; width:1% \">{{ frappe.format_value((doc.gross_invoice_amount), {\"fieldtype\":\"Currency\"})}}</td>\n        </tr>\n\t\t<tr>\n          <td colspan = \"5\" style=\"margin-bottom: 0in; text-align: right\"><strong>Add For Price Adjustment: </strong></td>\n          <td style=\"text-align: right; width:1%\">{{ frappe.format_value((doc.price_adjustment_amount), {\"fieldtype\":\"Currency\"})}}</td>\n        </tr>\n\t\t<tr>\n          <td colspan =\"5\" style=\"text-align: right\"><strong>Total including Price Adjustment: </strong></td>\n          <td style=\"text-align: right; width:1%\" >{{ frappe.format_value((doc.net_invoice_amount), {\"fieldtype\":\"Currency\"})}}</td>\n        </tr>\n\t\t<tr>\n          <td  colspan =\"5\" style=\"text-align: right\"><strong>Advance Recovery: </strong></td>\n          <td style=\"text-align: right; width:15%\">{{ frappe.format_value((0), {\"fieldtype\":\"Currency\"})}}</td>\n        </tr>\n\t\t<tr>\n          <td  colspan=\"5\" style=\"text-align: right\"><strong>TDS : </strong></td>\n          <td style=\"text-align: right; width:1% \">{{ frappe.format_value((doc.tds_amount), {\"fieldtype\":\"Currency\"})}}</td>\n        </tr>\n\t\t<tr>\n          <td   colspan= \"5\" style=\"text-align:right; width: 15%\"><strong>Net Payable: </strong></td>\n          <td style=\"text-align: right; width: 1%\">{{ frappe.format_value((doc.net_invoice_amount), {\"fieldtype\":\"Currency\"})}}</td>\n        </tr>\n\t</table>\n\t-->\n</div>\n\n<div style=\"padding-top: 85px; width: 60%; float: right; text-align:right;\">Project Engineer.</div>\n\n<div style=\"padding-top: 100px; clear: both;\">\n\t<div class=\"printedby\">\n\t\tThis print is system generated and should be considered VALID only with appropriate seal and/or signature. <br> Printed by {{ frappe.user }} on {{ frappe.utils.nowdate() }} at {{ frappe.utils.nowtime() }}\n\t</div>\n</div>\n", 
 "idx": 0, 
 "modified": "2018-05-14 10:18:30.695748", 
 "modified_by": "Administrator", 
 "name": "Project Running Bill", 
 "owner": "Administrator", 
 "print_format_builder": 0, 
 "print_format_type": "Server", 
 "standard": "Yes"
}