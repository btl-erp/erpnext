{
 "creation": "2016-08-13 12:07:48.862017", 
 "css": "table {\n    margin: 0 auto; /* or margin: 0 auto 0 auto */\n    width: 90%;\nline-height:1;\n  }\n\n#main {\n   margin-left: 20px;\n   margin-right: 20px;\n}\n@media all {\n   div .printedby {\n       position: fixed;\n       bottom: 0;\n       text-align: center;\n       font-size: xx-small;\n       width: 100% !important;\n   }\n}", 
 "custom_format": 1, 
 "disabled": 0, 
 "doc_type": "Delivery Note", 
 "docstatus": 0, 
 "doctype": "Print Format", 
 "font": "Default", 
 "html": "<div class=\"page-break\">\n<div id=\"header-html\" class=\"hidden-pdf\">\n    {%- if letter_head and not no_letterhead -%}\n        <div class=\"letter-head\">\n            {{ letter_head }}\n        </div>\n    {%- endif -%}\n</div>\n\n\n<div id=\"footer-html\" class=\"visible-pdf\">\n    {% if not no_letterhead and footer %}\n        <div class=\"letter-head-footer\">\n        {{ footer }}\n        </div>\n    {% endif %}\n\n    <p class=\"text-center small page-number visible-pdf\">\n        {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\n    </p>\n</div>\n<div class=\"print-heading\">\n<div  style=\"text-align: center;\">\n<h3>GOODS DELIVERY NOTE</h3>\n<h5><u>\n{%- if doc.items[0].cost_center -%}\n\t{{ doc.items[0].cost_center }}\n{%- endif -%}\n</u></h5>\n</div>\n\n<div>\n<table class = \"table1\" style=\"margin-top: 1px; text-align:justify;font-size:small; width:100% \">\n<tr>\n<td><strong>GDN No.:</strong>&nbsp;&nbsp;{{ doc.name }}</td>\n<td><strong>Sales Order No:</strong>&nbsp;&nbsp;\n{%- if doc.items[0].cost_center -%}\n{{ doc.items[0].against_sales_order }}\n{%- endif -%}\n</td>\n</tr>\n<tr>\n<td><strong>GDN Date:</strong>&nbsp;&nbsp;{{ frappe.utils.formatdate(doc.posting_date) }}</td>\n<td><strong>Sales Order Date:</strong>&nbsp;&nbsp;\n{%- if doc.items[0].cost_center -%}\n{{ frappe.utils.formatdate(frappe.db.get_value(\"Sales Order\", doc.items[0].against_sales_order, \"transaction_date\")) }}\n{%- endif -%}\n</td>\n</tr>\n<tr>\n<td><strong>Customer Name:</strong>&nbsp;&nbsp;{{ doc.customer }}</td>\n<td><strong>Customer Contact:</strong>&nbsp;&nbsp;{{ frappe.db.get_value(\"Customer\", doc.customer, \"mobile_no\") }}</td>\n</tr>\n<tr>\n<td> <strong> Location: </strong> &nbsp;&nbsp;\n{%- if doc.shipping_address_name -%}\n\t{{ doc.shipping_address_name }}\n{%- else -%}\n\t{{ frappe.db.get_value(\"Customer\", doc.customer, \"location\") }}\n{%- endif -%} \n</td>\n<td> <strong> Mobile No.: </strong> &nbsp;&nbsp;\n{%- if doc.contact_mobile -%}\n\t{{ doc.contact_mobile }} </td>\n{%- else -%}\n\t{{ frappe.db.get_value(\"Customer\", doc.customer, \"mobile_no\") }}\n{%- endif -%}\n</tr>\n<tr>\n<td><strong>Vehicle No:</strong>&nbsp;&nbsp;{{ frappe.db.get_value(\"Vehicle\", doc.vehicle, \"vehicle_no\") }}</td>\n<td><strong>Vehicle Dispatch Date:</strong>&nbsp;&nbsp;{{ frappe.utils.formatdate(doc.posting_date) }}</td>\n</tr>\n<tr>\n<td><strong>Transporter Name:</strong>&nbsp;&nbsp;{{ frappe.db.get_value(\"Vehicle\", doc.vehicle, \"drivers_name\") }}</td>\n<td><strong>Transporter Contact Number:</strong>&nbsp;&nbsp;{{ frappe.db.get_value(\"Vehicle\", doc.vehicle, \"contact_no\") }}</td>\n</tr>\n<tr>\n<td><strong>Payment Entry No:</strong>&nbsp;&nbsp;{{ frappe.db.get_value(\"Payment Entry\",{\"so_reference\":doc.items[0].against_sales_order}, \"name\") }}\n</td>\n</tr>\n</table>\n&nbsp;\n<br/>\n\t\t\n<table class=\"table table-bordered\" style=\"margin-top: 15px; font-size : small\">\n  <tbody>\n\t<tr>\n\t\t<th style=\"text-align: center;\">Sr</th>\n\t\t<th style=\"text-align: center;\">Material Code</th>\n\t\t<th style=\"text-align: center;\">Material Name</th>\n\t\t{%- if doc.naming_series == \"Timber Products\" -%}\n\t\t\t<th style=\"text-align: center;\">Lot No.</th>\n\t\t{%- endif -%}\n\t\t<th style=\"text-align: center;\">UoM</th>\n\t\t<th style=\"text-align: center;\">Qty Delivered</th>\n\t\t<th style=\"text-align: center;\">Balance Qty</th>\n\t\t<th style=\"text-align: center;\">Rate</th>\n\t\t<th class=\"text-right\" style=\"text-align: center;\">Amount Delivered</th>\n\n\t</tr>\n\t{%- for row in doc.items -%}\n\t<tr>\n\t\t<td style=\"width: 3%;\">{{ row.idx }}</td>\n\t\t<td style=\"width: 10%; text-align: center\">{{ row.item_code }}</td>\n\t\t<td style=\"width: 45%; text-align: center\">{{ row.item_name }}</td>\n\t\t{%- if doc.naming_series == \"Timber Products\" -%}\n\t\t\t<td style=\"width: 10%; text-align: center\">{{ row.lot_number }}</td>\n\t\t{%- endif -%}\n\t\t<td style=\"width: 10%; text-align: center\">{{ row.stock_uom }}</td>\n\t\t<td style=\"width: 10%; text-align: center\">{{ row.qty }}</td>\n\t\t<td>{{ frappe.db.get_value(\"Sales Order Item\", row.so_detail, \"qty\") - row.qty }}\n</td>\n\t\t<td style=\"width: 10%; text-align: right\">{{ frappe.format_value(row.rate, {\"fieldtype\":\"Currency\"})}}</td>\n\t\t<td style=\"width: 12%; text-align: right\">{{ frappe.format_value(row.amount, {\"fieldtype\":\"Currency\"})}}</td>\n\t</tr>\n\t{%- endfor -%}\n{%- if doc.naming_series == \"Timber Products\" -%}\n\t\t\t\t\t\t\t<td colspan=\"8\" style='text-align:right'>\n\t\t\t\t\t\t{%- else -%}\n\t\t\t\t\t\t\t<td colspan=\"7\" style='text-align:right'>\n\t\t\t\t\t\t{%- endif -%}\n\t\t\t\t\t\t<b>Total Amount</b></td>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<td style='text-align:right'>{{ frappe.format_value(doc.total, {\"fieldtype\":\"Currency\"}) }}</td>\n\t\t\t\t\t</tr>\n\n\t\t\t\t\t{%- if doc.discount_amount -%}\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t{%- if doc.naming_series == \"Timber Products\" -%}\n\t\t\t\t\t\t\t<td colspan=\"8\" style=\"text-align:right;\">\n\t\t\t\t\t\t{%- else -%}\n\t\t\t\t\t\t\t<td colspan=\"7\" style=\"text-align:right;\">\n\t\t\t\t\t\t{%- endif -%}\t\n\t\t\t\t\t\t\tAdditional Cost or Discount\t\t\t\t\t\t\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td style=\"text-align:right;\">\n\t\t\t\t\t\t\t{{ frappe.format_value(doc.discount_or_cost_amount * -1, {\"fieldtype\":\"Currency\"}) }}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t{%- endif -%}\n\n\t\t\t\t\t{%- if doc.transportation_charges -%}\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t{%- if doc.naming_series == \"Timber Products\" -%}\n\t\t\t\t\t\t\t<td colspan=\"8\" style=\"text-align:right;\">\n\t\t\t\t\t\t{%- else -%}\n\t\t\t\t\t\t\t<td colspan=\"7\" style=\"text-align:right;\">\n\t\t\t\t\t\t{%- endif -%}\n\t\t\t\t\n\t\t\t\t\t\t<i>(Transportation Charges):</i></td>\n\t\t\t\t\t\t<td style = \"text-align : right;\">{{ frappe.format_value(doc.transportation_charges, {\"fieldtype\":\"Currency\"}) }}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t{%- endif -%}\n\n\t\t\t\t\t{%- if doc.loading_cost -%}\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t{%- if doc.naming_series == \"Timber Products\" -%}\n\t\t\t\t\t\t\t<td colspan=\"8\" style=\"text-align:right;\">\n\t\t\t\t\t\t{%- else -%}\n\t\t\t\t\t\t\t<td colspan=\"7\" style=\"text-align:right;\">\n\t\t\t\t\t\t{%- endif -%}\n\t\t\t\t\n\t\t\t\t\t\tLoading Cost(Loading Rate x Total Qty):</td>\n\t\t\t\t\t\t<td style = \"text-align : right;\">{{ doc.loading_rate }}x{{ doc.items|sum(attribute='qty') }} = {{ frappe.format_value(doc.loading_cost, {\"fieldtype\":\"Currency\"}) }}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t{%- endif -%}\n\n\t\t\t\t\t<tr> \n\t\t\t\t\t\t{%- if doc.naming_series == \"Timber Products\" -%}\n\t\t\t\t\t\t\t<td colspan=\"8\" style='text-align:right'>\n\t\t\t\t\t\t{%- else -%}\n\t\t\t\t\t\t\t<td colspan=\"7\" style='text-align:right'>\n\t\t\t\t\t\t{%- endif -%}\n\t\t\t\t\t\t<b>Grand Amount</b></td>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<td style='text-align:right'>{{ frappe.format_value(doc.grand_total, {\"fieldtype\":\"Currency\"}) }}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\n\n<div style=\"float: left; width: 100%; font-size: small\">\n   <div><strong>Amount in Words: </strong> Ngultrum- {{ (doc.in_words)[3:] }} </div>\n</div>\n\n<b>Note : </b><i>Validity Period: {{ doc.validity_period}}</i> <br/>\n{%- if doc.validity_extension -%}\n\t</b><i>Validity Period extended till: {{ doc.validity_extension }}</i>\n{%- endif -%}\n\n<div style=\"float: left; padding-top: 20px; width: 100%; font-size: small\">\n <div><strong>Destination : </strong> {{ frappe.db.get_value(\"Product Requisition\", frappe.db.get_value(\"Sales Order\", doc.items[0].against_sales_order, \"po_no\"), \"destination_dzongkha\") }} \n</div>\n</div>\n\n<div style=\"padding-top: 80px; clear: both;\">\n<div>Authorized Signatory</div>\n<div style=\"padding-top: 80px; width: 33%; float: left; text-align:center;\">(Delivered By) </div>\n<div style=\"padding-top: 80px; width: 33%; float: left; text-align:center;\">(Carrier) </div>\n<div style=\"padding-top: 80px; width: 33%; float: left; text-align:center;\">(Received By)</div>\n\n</div>\n</div>\n</div>\n<div style=\"padding-top: 100px; clear: both;\">\n<div class=\"printedby\">This print is system generated and should be considered VALID only with appropriate seal and/or signature. <br>  Printed by {{ frappe.user }} on {{ frappe.utils.nowdate()  }} at {{ frappe.utils.nowtime() }}</div>\n", 
 "idx": 0, 
 "modified": "2019-03-07 14:38:35.445552", 
 "modified_by": "Administrator", 
 "name": "Goods Delivery Note", 
 "owner": "Administrator", 
 "parent": "Delivery Note", 
 "print_format_builder": 0, 
 "print_format_type": "Server", 
 "standard": "Yes"
}